{"version":3,"file":"static/js/760.8ecc2f84.chunk.js","mappings":"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","sources":["webpack://mysilant/./src/components/Main/MachineList/MachineList.module.scss?c25d","webpack://mysilant/./src/components/Main/MachineList/MachineFilter/MachineFilter.module.scss?96bb","components/Main/MachineList/MachineFilter/MachineFilter.jsx","components/Main/MachineList/MachineList.jsx","helpers.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tabs\":\"MachineList_tabs__Z2KWv\",\"before_table\":\"MachineList_before_table__tvGC9\",\"counter\":\"MachineList_counter__zyOfF\",\"error\":\"MachineList_error__LzcVr\",\"table_container\":\"MachineList_table_container__eGULS\",\"table_machines\":\"MachineList_table_machines__iTD6P\",\"delete_button\":\"MachineList_delete_button__8f0HC\",\"additional\":\"MachineList_additional__YrCEN\"};","// extracted by mini-css-extract-plugin\nexport default {\"machine_filters\":\"MachineFilter_machine_filters__AFpGN\",\"filters\":\"MachineFilter_filters__Rqnux\",\"delete_button\":\"MachineFilter_delete_button__iQCEe\",\"buttons\":\"MachineFilter_buttons__aJmsq\"};","import React from 'react'\nimport { useState } from 'react'\nimport styles from './MachineFilter.module.scss'\n\nexport default function MachineFilter(props) {\n  const [modelFilter, setModelFilter] = useState('')\n  const [engineFilter, setEngineFilter] = useState('')\n  const [transmisFilter, setTransmisFilter] = useState('')\n  const [drAxleFilter, setDrAxleFilter] = useState('')\n  const [stAxleFilter, setStAxleFilter] = useState('')\n  const {setFilters} = props\n\n\n  const buildFilter = (e) => {\n    e.preventDefault();\n    const query = [];\n    modelFilter && query.push(`machine_model=${modelFilter}`);\n    engineFilter && query.push(`engine_model=${engineFilter}`);\n    transmisFilter && query.push(`transmission_model=${transmisFilter}`);\n    drAxleFilter && query.push(`drive_axle_model=${drAxleFilter}`);\n    stAxleFilter && query.push(`steer_axle_model=${stAxleFilter}`);\n    console.log(`?${query.join('&')}`);\n    setFilters(`?${query.join('&')}`)\n  }\n\n  const setModel = (val) => {\n    setModelFilter(val.toUpperCase())\n  };\n\n  const eraseFilter = (e) => {\n    e.preventDefault();\n    setModelFilter('');\n    setEngineFilter('');\n    setTransmisFilter('');\n    setDrAxleFilter('');\n    setStAxleFilter('');\n    setFilters('')\n  }\n  return (\n    <div className={styles.machine_filters}>\n            <p>Фильтр:</p>\n            <form className={styles.filters} onSubmit={buildFilter}>\n                <input \n                    type=\"text\" \n                    name=\"machine_model\" \n                    placeholder='Модель техники'\n                    value={modelFilter}\n                    onChange={e => setModel(e.target.value)}\n                />\n                <input \n                    type=\"text\" \n                    name=\"engine_model\" \n                    placeholder='Модель двигателя'\n                    value={engineFilter}\n                    onChange={e => setEngineFilter(e.target.value)}\n                />\n                <input \n                    type=\"text\" \n                    name=\"transmission_model\" \n                    placeholder='Модель трансмиссии'\n                    value={transmisFilter}\n                    onChange={e => setTransmisFilter(e.target.value)}\n                />\n                <input \n                    type=\"text\" \n                    name=\"drive_axle_model\" \n                    placeholder='Модель ведущего моста'\n                    value={drAxleFilter}\n                    onChange={e => setDrAxleFilter(e.target.value)}\n                />\n                <input \n                    type=\"text\" \n                    name=\"steer_axle_model\" \n                    placeholder='Модель управляемого моста'\n                    value={stAxleFilter}\n                    onChange={e => setStAxleFilter(e.target.value)}\n                />\n                <div className={styles.buttons}>\n                  <button type='submit' title='Применить фильтры'>Применить</button>\n                  <button className={styles.delete_button} onClick={eraseFilter} title='Сброс фильтра'>x</button>\n                </div>\n                \n            </form>\n            \n        </div>\n  )\n}\n","import styles from './MachineList.module.scss'\nimport React, { useState, Suspense } from 'react'\nimport MachineFilter from './MachineFilter/MachineFilter'\nimport { sortData } from '../../../helpers';\n\nconst MachineDetail = React.lazy(() => import('./MachineDetail/MachineDetail'));\n\n\nfunction getCookie(name) {\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) return parts.pop().split(';').shift();\n}\n\nexport default function MachineList(props) {\n  const [machinePage, setMachinePage] = useState('machine_list');\n  const [machineDetail, setMachineDetail] = useState({});\n  const {directory, \n        userGroup, \n        users, \n        setFilters, \n        setUpdateList, \n        loading, \n        fetchError, \n        setFetchError, \n        updateList, \n        machines,\n        setMachines} = props;\n  const csrftoken = getCookie('csrftoken');\n  \n  const machineDetailHandler = (e, machine) => {\n    e.preventDefault();\n    setMachineDetail(machine);\n    setMachinePage('machine_detail');\n  }\n\n  const machineDeleteHandler = (e, machine_number) => {\n    e.preventDefault();\n    if (window.confirm(`Вы уверены, что хотите удалить машину ${machine_number}?`)) {\n      fetch(`http://localhost:8000/api/machines/${e.target.value}`, {\n        method: 'DELETE',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFToken': csrftoken,\n        },\n        credentials: 'include',\n        }\n    )\n    .then(response => {\n        if (response.ok) {\n            return response\n        } else {\n            throw Error(`${response.status} ${response.statusText}`)\n        }\n    })\n    .then(data => {\n      setFetchError('');\n      setUpdateList(updateList + 1)\n    })\n    .catch(error => {\n      setFetchError(`Произошла ошибка. ${error}`);\n      console.log(error)\n    });\n    }\n    \n  }\n\n  const [objectDirection]= useState({})\n  const sortingTable = (field) => {\n\n    if (objectDirection.hasOwnProperty(field)) {\n      objectDirection[field] = !objectDirection[field];\n      sortData(field, machines, setMachines, directory, objectDirection[field] === true ? \"increase\" : \"decrease\")\n    } else {\n      objectDirection[field] = true;\n      sortData(field, machines, setMachines, directory, objectDirection[field] === true ? \"increase\" : \"decrease\")\n    }\n  }\n\n  return (\n  <>\n  {machinePage === 'machine_list' ?\n    <>\n      <MachineFilter setFilters={setFilters}/>\n      <div className={styles.before_table}>\n        <div className={styles.counter}>Всего: {machines.length}</div>\n        {!!fetchError ? <div className={styles.error}>{fetchError}</div> : null}\n      </div>\n      \n      <div className={styles.table_container}>\n      <table className={styles.table_machines}>\n          <thead>\n          <tr>\n              <th onClick={() => sortingTable('machine_model')}>Модель</th>\n              <th onClick={() => sortingTable('machine_number')}>Зав. № машины</th>\n              <th onClick={() => sortingTable('engine_model')}>Модель двигателя</th>\n              <th onClick={() => sortingTable('engine_number')}>Зав. № двигателя</th>\n              <th onClick={() => sortingTable('transmission_model')}>Модель трансмиссии</th>\n              <th onClick={() => sortingTable('transmission_number')}>Зав. № трансмиссии</th>\n              <th onClick={() => sortingTable('steer_axle_model*\t')}>Модель управляемого моста</th>\n              <th onClick={() => sortingTable('steer_axle_number')}>Зав. № управляемого моста</th>\n              <th onClick={() => sortingTable('drive_axle_model')}>Модель ведущего моста</th>\n              <th onClick={() => sortingTable('drive_axle_number')}>Зав. № ведущего моста</th>\n              <th onClick={() => sortingTable('machine_number')}>Дата отгрузки c завода</th>\n              <th>Покупатель</th>\n              <th>Грузополучатель</th>\n              <th>Адрес поставки (эксплуатации)</th>\n              <th>Комплектация (доп. опции)</th>\n              <th>Сервисная компания</th>\n              {userGroup === 'Менеджер'?\n                <th>X</th> : null}\n          </tr>\n          </thead>\n          {loading ? \n                <tbody>\n                    <tr><td colSpan={10}>Загрузка...</td></tr>\n                </tbody>\n            :\n          <tbody>\n          {!!machines.length > 0 && Object.entries(users).length > 0 && Object.entries(directory).length > 0? \n            machines.map(item => (\n              <tr key={item.id}>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {directory.find(obj => obj.id === item.machine_model).title}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.machine_number}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {directory.find(obj => obj.id === item.engine_model).title}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.engine_number}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {directory.find(obj => obj.id === item.transmission_model).title}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.transmission_number}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {directory.find(obj => obj.id === item.steer_axle_model).title}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.steer_axle_number}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {directory.find(obj => obj.id === item.drive_axle_model).title}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.drive_axle_number}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {new Date(item.shipping_date).toLocaleDateString()}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {users.find(obj => obj.id === item.customer).first_name}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.consignee}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.delivery_address}</td>\n                  <td className={styles.additional} onClick={(e) => machineDetailHandler(e, item)}>\n                    {item.additional}</td>\n                  <td onClick={(e) => machineDetailHandler(e, item)}>\n                    {users.find(obj => obj.id === item.service_center).first_name}</td>\n                  {userGroup === 'Менеджер'?\n                    <td>\n                      <button type='button'\n                              className={styles.delete_button}\n                              value={item.id}\n                              title='Удалить'\n                              onClick={e => machineDeleteHandler(e, item.machine_number)}>x</button>\n                    </td> : null}\n              </tr>\n            ))\n            : <tr><td colSpan={10}>Машины не найдены</td></tr>}\n          </tbody>\n          }\n      </table>\n      </div>\n    </>\n    : null}\n    {machinePage === 'machine_detail' ? \n    <Suspense>\n      <MachineDetail setMachinePage={setMachinePage}\n      machineProp={machineDetail}\n      directory={directory}\n      userGroup={props.userGroup}\n      users={users}\n      machines={machines}/>\n    </Suspense>\n    : null}\n  </>\n  )\n}\n","export const sortData = (field, items, setItems, directory, direction = 'increase') => {\n    // sorting data\n    // direction = increase/decrease\n\n    const copyData = items.concat()\n    const sortData = copyData.sort(\n      (a, b) => {\n        if (direction === 'increase') {\n            if (typeof(a[field]) === 'number' \n            && field !== 'downtime'\n            && field !== 'duration'\n            && field !== 'id'\n            ) {\n            return directory.find(obj => obj.id === a[field]).title > directory.find(obj => obj.id === b[field]).title ? 1 : -1\n            } else {\n            return a[field] > b[field] ? 1 : -1\n            }\n        } else {\n            if (typeof(a[field]) === 'number' \n            && field !== 'downtime'\n            && field !== 'duration'\n            && field !== 'id'\n            ) {\n            return directory.find(obj => obj.id === a[field]).title > directory.find(obj => obj.id === b[field]).title ? -1 : 1\n            } else {\n            return a[field] > b[field] ? -1 : 1\n            }\n        }\n      }\n    );\n    setItems(sortData);\n  }\n  "],"names":["MachineFilter","props","useState","modelFilter","setModelFilter","engineFilter","setEngineFilter","transmisFilter","setTransmisFilter","drAxleFilter","setDrAxleFilter","stAxleFilter","setStAxleFilter","setFilters","className","styles","onSubmit","e","preventDefault","query","push","console","log","join","type","name","placeholder","value","onChange","val","target","toUpperCase","title","onClick","MachineDetail","React","MachineList","machinePage","setMachinePage","machineDetail","setMachineDetail","directory","userGroup","users","setUpdateList","loading","fetchError","setFetchError","updateList","machines","setMachines","csrftoken","parts","document","cookie","split","length","pop","shift","getCookie","machineDetailHandler","machine","objectDirection","sortingTable","field","hasOwnProperty","sortData","colSpan","Object","entries","map","item","find","obj","id","machine_model","machine_number","engine_model","engine_number","transmission_model","transmission_number","steer_axle_model","steer_axle_number","drive_axle_model","drive_axle_number","Date","shipping_date","toLocaleDateString","customer","first_name","consignee","delivery_address","additional","service_center","window","confirm","fetch","method","headers","credentials","then","response","ok","Error","status","statusText","data","catch","error","machineDeleteHandler","Suspense","machineProp","items","setItems","direction","concat","sort","a","b"],"sourceRoot":""}