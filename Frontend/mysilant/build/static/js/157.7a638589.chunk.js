"use strict";(self.webpackChunkmysilant=self.webpackChunkmysilant||[]).push([[157],{797:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(885),i={description:"DirDescription_description__e9oYw"},s=t(791),l=t(184);function r(e){var n=e.dirID,t=e.directory,r=(0,s.useState)({}),u=(0,a.Z)(r,2),c=u[0],o=u[1];return(0,s.useEffect)((function(){t&&n&&o(t.find((function(e){return e.id===+n})))}),[t,n]),(0,l.jsx)(l.Fragment,{children:c.description&&(0,l.jsx)("span",{className:i.description,children:c.description})})}},157:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a=t(885),i={machine_create:"MachineCreate_machine_create__w9cu-",close_button:"MachineCreate_close_button__FyQiN",textarea:"MachineCreate_textarea__cIsHY",submit:"MachineCreate_submit__ykuL1",status_ok:"MachineCreate_status_ok__TfvPt",status_error:"MachineCreate_status_error__wAGHl"},s=t(791),l=t(797),r=t(184);function u(e){var n=e.directory,t=e.userGroup,u=e.users,c=e.setPage,o=(0,s.useState)(),d=(0,a.Z)(o,2),h=d[0],x=d[1],m=(0,s.useState)(""),p=(0,a.Z)(m,2),_=p[0],j=p[1],v=(0,s.useState)(),f=(0,a.Z)(v,2),b=f[0],g=f[1],y=(0,s.useState)(""),C=(0,a.Z)(y,2),Z=C[0],S=C[1],k=(0,s.useState)(),N=(0,a.Z)(k,2),D=N[0],T=N[1],I=(0,s.useState)(""),w=(0,a.Z)(I,2),M=w[0],O=w[1],F=(0,s.useState)(),P=(0,a.Z)(F,2),E=P[0],G=P[1],H=(0,s.useState)(""),X=(0,a.Z)(H,2),Y=X[0],A=X[1],J=(0,s.useState)(),L=(0,a.Z)(J,2),Q=L[0],R=L[1],q=(0,s.useState)(""),z=(0,a.Z)(q,2),B=z[0],K=z[1],U=(0,s.useState)(""),V=(0,a.Z)(U,2),W=V[0],$=V[1],ee=(0,s.useState)(""),ne=(0,a.Z)(ee,2),te=ne[0],ae=ne[1],ie=(0,s.useState)(""),se=(0,a.Z)(ie,2),le=se[0],re=se[1],ue=(0,s.useState)(""),ce=(0,a.Z)(ue,2),oe=ce[0],de=ce[1],he=(0,s.useState)(""),xe=(0,a.Z)(he,2),me=xe[0],pe=xe[1],_e=(0,s.useState)(),je=(0,a.Z)(_e,2),ve=je[0],fe=je[1],be=(0,s.useState)(),ge=(0,a.Z)(be,2),ye=ge[0],Ce=ge[1],Ze=(0,s.useState)({}),Se=(0,a.Z)(Ze,2),ke=Se[0],Ne=Se[1],De=(0,s.useState)(!1),Te=(0,a.Z)(De,2),Ie=Te[0],we=Te[1],Me=function(e){var n="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===n.length)return n.pop().split(";").shift()}("csrftoken");return(0,r.jsxs)("div",{className:i.machine_create,onSubmit:function(e){e.preventDefault(),we(!0),fetch("http://localhost:8000/api/machines/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":Me},body:JSON.stringify({machine_number:_,engine_number:Z,transmission_number:M,drive_axle_number:Y,steer_axle_number:B,supply_contract:W,shipping_date:te,consignee:le,delivery_address:me,additional:oe,machine_model:h,engine_model:b,transmission_model:D,drive_axle_model:E,steer_axle_model:Q,customer:ve,service_center:ye}),credentials:"include"}).then((function(e){if(e.ok)return e.json();throw Error("".concat(e.status," ").concat(e.statusText))})).then((function(e){Ne({className:i.status_ok,statusText:"\u041c\u0430\u0448\u0438\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"}),x(null),g(null),T(null),G(null),R(null),fe(null),Ce(null),j(""),S(""),O(""),A(""),K(""),$(""),ae(""),re(""),de(""),pe("")})).catch((function(e){Ne({className:i.status_error,statusText:"\u041c\u0430\u0448\u0438\u043d\u0430 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430, \u043e\u0448\u0438\u0431\u043a\u0430 \n ".concat(e)}),console.log(e)})).finally((function(){we(!1)}))},children:[(0,r.jsx)("h3",{children:"\u0414\u041e\u0411\u0410\u0412\u041b\u0415\u041d\u0418\u0415 \u041d\u041e\u0412\u041e\u0419 \u041c\u0410\u0428\u0418\u041d\u042b."}),(0,r.jsx)("button",{type:"button",className:i.close_button,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:function(e){e.preventDefault(),c("list")},children:"X"}),"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"===t?(0,r.jsxs)("form",{autoComplete:"off",children:[(0,r.jsxs)("label",{children:["\u041c\u043e\u0434\u0435\u043b\u044c:",(0,r.jsxs)("select",{value:h||0,onChange:function(e){return x(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),n.map((function(e){return"\u041c\u043e\u0434\u0435\u043b\u044c \u0442\u0435\u0445\u043d\u0438\u043a\u0438"===e.name_?(0,r.jsx)("option",{value:e.id,children:e.title},e.id):null}))]})]}),(0,r.jsx)(l.Z,{dirID:h,directory:n}),(0,r.jsxs)("label",{children:["\u0417\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u043c\u0430\u0448\u0438\u043d\u044b:",(0,r.jsx)("input",{type:"text",name:"machine_number",id:"",value:_,onChange:function(e){return j(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u041c\u043e\u0434\u0435\u043b\u044c \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f:",(0,r.jsxs)("select",{value:b||0,onChange:function(e){return g(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),n.map((function(e){return"\u041c\u043e\u0434\u0435\u043b\u044c \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f"===e.name_?(0,r.jsx)("option",{value:e.id,children:e.title},e.id):null}))]})]}),(0,r.jsx)(l.Z,{dirID:b,directory:n}),(0,r.jsxs)("label",{children:["\u0417\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044f:",(0,r.jsx)("input",{type:"text",name:"engine_number",id:"",value:Z,onChange:function(e){return S(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u041c\u043e\u0434\u0435\u043b\u044c \u0442\u0440\u0430\u043d\u0441\u043c\u0438\u0441\u0441\u0438\u0438:",(0,r.jsxs)("select",{value:D||0,onChange:function(e){return T(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),n.map((function(e){return"\u041c\u043e\u0434\u0435\u043b\u044c \u0442\u0440\u0430\u043d\u0441\u043c\u0438\u0441\u0441\u0438\u0438"===e.name_?(0,r.jsx)("option",{value:e.id,children:e.title},e.id):null}))]})]}),(0,r.jsx)(l.Z,{dirID:D,directory:n}),(0,r.jsxs)("label",{children:["\u0417\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0440\u0430\u043d\u0441\u043c\u0438\u0441\u0441\u0438\u0438:",(0,r.jsx)("input",{type:"text",name:"transmission_number",id:"",value:M,onChange:function(e){return O(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u041c\u043e\u0434\u0435\u043b\u044c \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e \u043c\u043e\u0441\u0442\u0430:",(0,r.jsxs)("select",{value:E||0,onChange:function(e){return G(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),n.map((function(e){return"\u041c\u043e\u0434\u0435\u043b\u044c \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e \u043c\u043e\u0441\u0442\u0430"===e.name_?(0,r.jsx)("option",{value:e.id,children:e.title},e.id):null}))]})]}),(0,r.jsx)(l.Z,{dirID:E,directory:n}),(0,r.jsxs)("label",{children:["\u0417\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e \u043c\u043e\u0441\u0442\u0430:",(0,r.jsx)("input",{type:"text",name:"drive_axle_number",id:"",value:Y,onChange:function(e){return A(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u041c\u043e\u0434\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u043c\u043e\u0441\u0442\u0430:",(0,r.jsxs)("select",{value:Q||0,onChange:function(e){return R(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),n.map((function(e){return"\u041c\u043e\u0434\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u043c\u043e\u0441\u0442\u0430"===e.name_?(0,r.jsx)("option",{value:e.id,children:e.title},e.id):null}))]})]}),(0,r.jsx)(l.Z,{dirID:Q,directory:n}),(0,r.jsxs)("label",{children:["\u0417\u0430\u0432\u043e\u0434\u0441\u043a\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u043c\u043e\u0441\u0442\u0430:",(0,r.jsx)("input",{type:"text",name:"steer_axle_number",id:"",value:B,onChange:function(e){return K(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u2116, \u0434\u0430\u0442\u0430:",(0,r.jsx)("input",{type:"text",name:"supply_contract",id:"",value:W,onChange:function(e){return $(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u0414\u0430\u0442\u0430 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438 \u0441 \u0437\u0430\u0432\u043e\u0434\u0430:",(0,r.jsx)("input",{type:"date",name:"shipping_date",id:"",value:te,onChange:function(e){return ae(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u0413\u0440\u0443\u0437\u043e\u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c (\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044c):",(0,r.jsx)("input",{type:"text",name:"consignee",id:"",value:le,onChange:function(e){return re(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u0410\u0434\u0440\u0435\u0441 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 (\u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438):",(0,r.jsx)("input",{type:"text",name:"delivery_address",id:"",value:me,onChange:function(e){return pe(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f (\u0434\u043e\u043f. \u043e\u043f\u0446\u0438\u0438):",(0,r.jsx)("textarea",{name:"",className:i.textarea,value:oe,onChange:function(e){return de(e.target.value)}})]}),(0,r.jsxs)("label",{children:["\u041a\u043b\u0438\u0435\u043d\u0442:",Object.entries(u).length>0?(0,r.jsxs)("select",{value:ve||0,onChange:function(e){return fe(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),u.map((function(e){return e.groups.includes(1)?(0,r.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id):null}))]}):null]}),(0,r.jsxs)("label",{children:["\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f:",Object.entries(u).length>0?(0,r.jsxs)("select",{value:ye||0,onChange:function(e){return Ce(e.target.value)},name:"",id:"",children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"== \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 =="}),u.map((function(e){return e.groups.includes(2)&&"\u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e"!==e.first_name?(0,r.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id):null}))]}):null]}),(0,r.jsxs)("div",{className:i.submit,children:[(0,r.jsx)("button",{type:"submit",name:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Ie?(0,r.jsx)("div",{className:i.status_ok,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):null,ke?(0,r.jsx)("div",{className:ke.className,children:ke.statusText}):null]})]}):(0,r.jsx)("div",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u043e\u0436\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440."})]})}}}]);
//# sourceMappingURL=157.7a638589.chunk.js.map